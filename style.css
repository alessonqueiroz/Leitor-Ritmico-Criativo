body {
    font-family: 'Inter', sans-serif;
    background-image: url(fundo\ da\ tela.png);
    background-size: 1550px;
    display: flex;
    flex-direction: column;
    min-height: 100vh;

    color: #334155; /* Cor de texto padr√£o */
}

/* Corrigido de .main-content para main, para corresponder ao HTML <main> */
main {
    flex-grow: 1; /* Faz o conte√∫do principal expandir e empurrar o footer para baixo */
}

.figure-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    margin: 0 3px; /* Pequeno espa√ßamento horizontal entre as figuras */
    position: relative; /* Para posicionamento de √≠cones de edi√ß√£o no futuro, se necess√°rio */
}

.note-item, .barline-item, .time-signature-item {
    transition: transform 0.1s ease-in-out, background-color 0.1s ease-in-out, opacity 0.1s ease-in-out;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 2.0rem; /* Tamanho dos s√≠mbolos das figuras */
}

.syllable-text {
    font-size: 0.875rem; /* Tamanho do texto da s√≠laba */
    color: #475569;
    margin-top: 4px;
    min-height: 1.5em; /* Garante altura mesmo sem texto, para alinhamento */
    font-style: italic;
}

/* Estilos para a figura atualmente em destaque durante a reprodu√ß√£o */
.highlight .note-item {
    background-color: #FACC15 !important; /* Amarelo para destaque, !important para sobrescrever Tailwind/outros */
    transform: scale(1.15); /* Aumenta um pouco o tamanho */
    color: #1E293B !important; /* Cor do texto da figura destacada */
    box-shadow: 0 0 15px rgba(250, 204, 21, 0.7); /* Sombra suave amarela */
}

.highlight .syllable-text {
    font-weight: 600; /* Negrito para a s√≠laba destacada */
    color: #B45309; /* Cor mais escura para a s√≠laba destacada */
}

/* Estiliza√ß√£o da barra de rolagem para o display de ritmo */
/* Para WebKit/Blink (Chrome, Safari, Edge, Opera) */
#rhythm-display::-webkit-scrollbar { 
    height: 10px; 
}
#rhythm-display::-webkit-scrollbar-track { 
    background: #E2E8F0; 
    border-radius: 10px; 
}
#rhythm-display::-webkit-scrollbar-thumb { 
    background: #94A3B8; 
    border-radius: 10px; 
}
#rhythm-display::-webkit-scrollbar-thumb:hover { 
    background: #64748B; 
}
/* Para Firefox */
#rhythm-display {
    scrollbar-width: thin;
    scrollbar-color: #94A3B8 #E2E8F0;
}


/* Estilos para os bot√µes na paleta de figuras */
.figure-button {
    min-width: 60px; /* Largura m√≠nima base */
    background-color: #FFFFFF; /* Cor de fundo base */
    border: 1px solid #CBD5E1; /* Borda base */
    color: #1E293B; /* Cor do texto base */
    /* padding, font-size, border-radius, shadow, transitions s√£o aplicados via classes Tailwind no JS */
}

.figure-button:hover {
    background-color: #F0FDFA; /* Cor suave ao passar o mouse */
    border-color: #06B6D4; /* Cor da borda no hover */
    color: #0E7490; /* Cor do texto no hover */
}

.figure-button:active {
    background-color: #CFFAFE; /* Cor ao clicar */
}

/* Estilo para os n√∫meros dentro do display de f√≥rmula de compasso */
.time-signature-item span {
    line-height: 0.9; /* Ajusta o espa√ßamento vertical dos n√∫meros */
    font-weight: 700;
}

/* Estilo para os pain√©is principais (controles, criador de ritmo) */
.panel {
    background-color: rgba(255, 255, 255, 0.9); /* Fundo branco semi-transparente */
    backdrop-filter: blur(10px); /* Efeito de vidro fosco */
    border-radius: 1rem;
    padding: 1.5rem;
    box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04); /* Sombra suave */
}

.main-title {
    font-family:Helvetica;
    font-size: 40px;
    color: #6135a7; /* Cor roxa para o t√≠tulo principal */
    text-shadow: 1px 1px 3px rgba(168, 168, 168, 0.1); /* Sombra leve no texto */
}

/* Estilos base para bot√µes de a√ß√£o */
.btn-action {
    color: white;
    border-radius: 0.5rem;
    padding: 0.75rem 1.5rem;
    transition: all 0.2s ease-in-out;
    font-weight: 600;
    box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1), 0 2px 4px -1px rgba(0,0,0,0.06);
    display: inline-flex; /* Para alinhar √≠cones (se houver) e texto */
    align-items: center;
    justify-content: center;
}

.btn-action:hover:not(:disabled) {
    transform: translateY(-2px) scale(1.02); /* Efeito sutil de eleva√ß√£o */
    box-shadow: 0 10px 15px -3px rgba(0,0,0,0.1), 0 4px 6px -2px rgba(0,0,0,0.05);
}

.btn-action:disabled {
    opacity: 0.6;
    cursor: not-allowed;
}

/* Varia√ß√µes de cor para bot√µes de a√ß√£o */
.btn-play { background-color: #16A34A; } /* Verde */
.btn-play:hover:not(:disabled) { background-color: #15803D; }

.btn-pause { 
    background-color: #F59E0B; /* Amarelo/Laranja */
    color: #422006 !important; 
}
.btn-pause:hover:not(:disabled) { background-color: #D97706; }

.btn-reset { background-color: #4B5563; } /* Cinza */
.btn-reset:hover:not(:disabled) { background-color: #374151; }

.btn-clear { background-color: #DC2626; } /* Vermelho */
.btn-clear:hover:not(:disabled) { background-color: #B91C1C; }

.btn-ai-suggest { background-color: #7C3AED; } /* Roxo */
.btn-ai-suggest:hover:not(:disabled) { background-color: #6D28D9; }

/* --- NOVOS ESTILOS / ESTILOS MODIFICADOS ABAIXO --- */

/* Estilo para o novo bot√£o "Apagar Selecionada" */
.btn-delete-fig {
    background-color: #EF4444; /* Vermelho (similar ao Limpar Ritmo para consist√™ncia) */
}
.btn-delete-fig:hover:not(:disabled) {
    background-color: #DC2626; /* Vermelho mais escuro no hover */
}

#countdown-display {
    font-size: 4rem; 
    color: #4338CA; 
    font-weight: 700;
    min-height: 80px; 
}

/* Customiza√ß√£o espec√≠fica para cores de fundo de notas */
.note-item.bg-blue-500 { 
    background-color: #0EA5E9 !important; 
}

.note-item.bg-gray-300 { 
    background-color: #D1D5DB !important; 
    color: #374151 !important; 
}

/* Estilos para a legenda de figuras */
.figure-legend {
    margin-top: 1.5rem;
    padding: 1rem;
    background-color: rgba(255, 255, 255, 0.8); 
    backdrop-filter: blur(5px); 
    border-radius: 0.75rem;
    box-shadow: 0 4px 6px -1px rgba(0,0,0,0.05), 0 2px 4px -1px rgba(0,0,0,0.03);
}

.legend-title {
    font-size: 1.125rem;
    font-weight: 600;
    color: #4C1D95; 
    margin-bottom: 0.75rem;
    text-align: center;
}

.legend-item {
    display: flex;
    align-items: center;
    margin-bottom: 0.5rem;
    font-size: 0.9rem; 
}

.legend-symbol {
    font-size: 1.75rem; 
    margin-right: 0.75rem;
    min-width: 30px; 
    text-align: center;
    color: #3B82F6; 
}

.legend-name {
    color: #374155; 
}

/* Corrigido de .footer para footer, para estilizar a tag <footer> */
footer {
    text-align: center;
    padding: 1.5rem;
    color: #4B5563;
    font-size: 0.875rem;
    margin-top: auto; 
}

/* Estilos para a funcionalidade de edi√ß√£o de figuras */
#rhythm-display.edit-mode .figure-container { /* Aplica cursor apenas quando edit-mode est√° ativo */
    cursor: pointer;
    transition: box-shadow 0.2s ease-in-out; /* Adiciona transi√ß√£o suave para o hover */
}

#rhythm-display.edit-mode .figure-container:hover .note-item {
    opacity: 0.8; /* Leve feedback visual no hover da figura */
    box-shadow: 0 0 8px rgba(0,0,0,0.2); /* Sombra sutil no hover */
}

.figure-container.selected-for-edit .note-item {
    outline: 3px solid #D97706; /* Laranja para destaque de edi√ß√£o */
    outline-offset: 3px; /* Pequeno espa√ßamento entre a borda e o outline */
    background-color: #FEF3C7 !important; /* Um amarelo bem claro para diferenciar do highlight de playback */
    color: #92400E !important; /* Cor de texto escura para contraste no fundo amarelo */
    transform: scale(1.05); /* Leve aumento para indicar sele√ß√£o */
    box-shadow: 0 0 10px rgba(217, 119, 6, 0.5); /* Sombra sutil na cor do outline */
}

.figure-container.selected-for-edit .syllable-text {
    font-weight: 700; /* Negrito */
    color: #D97706; /* Mesma cor laranja do outline */
}

/* Estilos para os novos s√≠mbolos de controle (repeti√ß√£o, final) no display de ritmo */
.control-bar-item {
    display: flex;
    align-items: center; /* Centraliza o s√≠mbolo verticalmente */
    justify-content: center;
    box-sizing: border-box;
    line-height: 1;      /* Ajuda a controlar a altura do caractere de fonte grande */
    min-height: 3.75rem; /* Altura m√≠nima de caixa similar √† de uma nota com padding p-3. (aprox. 2.25rem font + 1.5rem padding) */
    padding: 0.5rem 0.25rem; /* Padding vertical e horizontal base */
    /* Estilos default para s√≠mbolos de controle - ser√£o sobrescritos se necess√°rio por classes mais espec√≠ficas */
    color: #000000;     /* Default: text-slate-700 (escuro) */
    font-size: 4.00rem;  /* Default: tamanho um pouco maior para destaque */
}

/* Estilo espec√≠fico para a BARRA FINAL DUPLA (ùÑà) para se assemelhar √† barra autom√°tica */
.final-barline-visual-style {
    font-size: 4.5rem;     /* Mesmo font-size da barra autom√°tica ('|') definida no JS */
    color: #000000;      /* Cor text-slate-500 (cinza mais claro, igual √† barra autom√°tica) */
    font-weight: 300;    /* font-light (igual √† barra autom√°tica) */
}

/* Estilo espec√≠fico para as BARRAS DE REPETI√á√ÉO (ùÑÜ, ùÑá) */
.repeat-barline-visual-style {
    color: #000000;     /* Mant√©m a cor mais escura (text-slate-700) para destaque */
    font-size: 4.5rem;  /* Mant√©m o tamanho um pouco maior para destaque */
    font-weight: normal; /* Ou 400, se quiser diferenciar do font-light da barra final */
}

/* Se um item de controle estiver selecionado para edi√ß√£o (ESTILO EXISTENTE, VERIFIQUE SE PRECISA DE AJUSTE) */
.figure-container.selected-for-edit .control-bar-item { /* Afeta a caixa do item de controle */
    outline: 3px solid #D97706; 
    outline-offset: 2px;
    /* O background pode ser geral para todos os .control-bar-item selecionados */
    background-color: #FEFBF2 !important; 
}
/* Ajuste a cor do texto do s√≠mbolo SELECIONADO para ter bom contraste com o fundo de sele√ß√£o */
.figure-container.selected-for-edit .final-barline-visual-style {
    color: #ae6565 !important; /* Cor escura para contraste com fundo FEFBF2 */
}
.figure-container.selected-for-edit .repeat-barline-visual-style {
    color: #ae6565 !important; /* Cor escura para contraste com fundo FEFBF2 */
}


/* Remove a s√≠laba (ou garante que n√£o haja espa√ßo para ela) para barras de controle (ESTILO EXISTENTE) */
.figure-container[data-is-control="true"] .syllable-text {
    display: none;
}